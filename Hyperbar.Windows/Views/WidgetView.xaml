<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Hyperbar.Windows.WidgetView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:interactions="using:Microsoft.Xaml.Interactions.Core"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:ui="using:Hyperbar.Windows.UI">

    <ItemsControl ItemTemplateSelector="{Binding Converter={ui:DataTemplateConverter}}" ItemsSource="{Binding}">
        <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
                <StackPanel Orientation="Horizontal" Spacing="8" />
            </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <interactivity:Interaction.Behaviors>
            <interactions:EventTriggerBehavior EventName="Loaded">
                <interactions:InvokeCommandAction Command="{Binding Initialize}" />
            </interactions:EventTriggerBehavior>
        </interactivity:Interaction.Behaviors>
    </ItemsControl>
</UserControl>